{"config":{"lang":["es"],"separator":"[\\s\\-]+","pipeline":["stopWordFilter"]},"docs":[{"location":"ARP_Spoofing/","title":"ARP Spoofing","text":""},{"location":"ARP_Spoofing/#docker","title":"Docker","text":"<p>https://raul-profesor.github.io/DEAW/introduction/</p> <p>https://kinsta.com/es/base-de-conocimiento/que-es-docker/</p> <p>https://datascientest.com/es/docker-todo-que-saber</p> <p>https://www.ibm.com/topics/docker</p> <p>Tarea 0<p>Deb\u00e9is instalar Docker en Kali o Ubuntu. Pod\u00e9is ayudaros del material que consider\u00e9is, como por ejemplo este o cualquier otro.</p> </p>"},{"location":"ARP_Spoofing/#arp","title":"ARP","text":"<p>Cuando una m\u00e1quina necesita comunicarse con otra en una red, necesita conocer en primera instancia su IP para poder enviar el paquete a su destino, pero en capa 2 de OSI, utiliza direcciones MAC. El protocolo ARP entra en juego en este momento, dado que env\u00eda los mensajes pertinentes para averiguar la direcci\u00f3n MAC asociada a una IP concreta.</p> <p></p> <p>Cuando un dispositivo desea enviar paquetes a otro, lanza un mensaje broadcast ARP preguntando en la red qu\u00e9 disposito posee esa IP concreta y esperando una respuesta \u00fanicamente de ese dispositivo identific\u00e1ndose y, adem\u00e1s, enviando su MAC.</p> <p></p> <p>De esta forma, los dispositivos en la red van construyendo sus tablas ARP, donde cada entrada hace corresponder una IP con su MAC, de tal forma que si tuvieran que volver a enviar mensajes a esas m\u00e1quinas, ya no necesitan pasar por el proceso de averig\u00fcaci\u00f3n de direcciones MAC.</p> <p></p>"},{"location":"ARP_Spoofing/#arp-spoofing","title":"ARP Spoofing","text":"<p>Este ataque es de los conocidos como tipo Man in the Middle, llamados as\u00ed porque consisten en que un atacante o actor malicioso se interpone entre la comnicaci\u00f3n de dos v\u00edctimas, actuando de intermediario sin que ellas se den cuenta. Esto le permite interceptar toda la comunicaci\u00f3n, pudiendo espiarla o incluso modificarla, si as\u00ed lo desea.</p> <p>En el caso de un ARP Spoofing, el atacant env\u00eda falsos mensajes de respuesta ARP, indicando que su MAC se corresponde con otra IP, la de la v\u00edctima y as\u00ed recibir los mensajes que van destinados a ella.</p> <p></p>"},{"location":"ARP_Spoofing/#realizacion-de-la-practica","title":"Realizaci\u00f3n de la pr\u00e1ctica","text":"<p>Deb\u00e9is clonar el repositorio: https://github.com/raul-profesor/spoofing</p> <p>Esta pr\u00e1ctica est\u00e1 ubicada dentro de la carpeta <code>Lab1-ArpSpoofing</code>.</p> <p>Vamos a crear la siguiente infraestructura:</p> <p> </p> <p>Que consiste en:</p> <ul> <li>Dos contenedores v\u00edctimas</li> <li>Un atacante</li> <li>Un observador TcpDumper cuya \u00fanica funci\u00f3n es escuchar el tr\u00e1fico de la red</li> </ul> <p>Pasemos a construir las im\u00e1genes que m\u00e1s tarde dar\u00e1n lugar a los contenedores del atacante y del TcpDumper que vamos a ejecutar. Para este cometido no ten\u00e9is m\u00e1s que ejecutar el <code>script build.sh</code>. Los contenedores v\u00edctimas son simplemente im\u00e1genes de busybox sin modificar, directamente del \"registry\" de Docker.</p> <p>Ahora ejecutaremos los 4 contenedores, cada uno en una pesta\u00f1a distinta del terminal:</p> <pre><code>docker run -it --rm --name box1 busybox\ndocker run -it --rm --name box2 busybox\ndocker run -it --rm --name arpspoofer arpspoofer\ndocker run -it --rm  --net=container:arpspoofer --name tcpdumper tcpdumper\n</code></pre> <p>Tarea 1</p> <ul> <li>Comprueba las IPs y las MAC de box1, box2 y arpspoofer con <code>ip a</code></li> <li>Comprueba la tabla ARP de box1 con <code>watch ip neigh</code></li> <li>Realiza un ping de box2 a box1 y mantenlo</li> <li>En el contenedor del <code>arpspoofer</code> comienza el spoofeo: <code>/usr/sbin/arpspoof -r -i eth0 -t x.x.x.x y.y.y.y</code> (IPs de box1 y 2)</li> </ul> <p>Tras los pasos anteriores deberias empezar a ver el tr\u00e1fico capturado por el contenedor TcpDumper.</p> <p>Tarea 2</p> <p>Adem\u00e1s del tcpdump del contenedor TcpDumper pon a capturar tr\u00e1fico con Wireshark en la interfaz <code>Docker0</code> de la m\u00e1quina anfitri\u00f3n.</p> <p>Tarea 3</p> <p>Describe detalladamente qu\u00e9 observas que est\u00e1 ocurriendo en la captura del contenedor <code>TcpDumper</code></p> <p>Tarea 4</p> <p>\u00bfC\u00f3mo podemos tener una pista de lo que est\u00e1 ocurriendo mirando s\u00f3lamente el <code>ping</code> que hemos lanzado al principio?</p> <p>Tarea 5</p> <p>En la captura de TCPDump, indica y explica detalladamente:     + Mensajes ARP donde se ve claramente qu\u00e9 est\u00e1 ocurriendo y cu\u00e1l es el ataque, ind\u00edca expl\u00edcitamente los mensajes.     + Mensajes ICMP donde se ve la secuencia de los acontecimienntos.</p> <p>Tarea 6</p> <p>En la captura de Wireshark filtra por el protocolo ICMP y repite las explicaciones de la Tarea 5.</p> <p>Tarea 7<p>Realiza un diagrama en https://www.drawio.com/ donde expliques claramente de forma gr\u00e1fica el proceso que has llevado a acabo.</p> </p>"}]}